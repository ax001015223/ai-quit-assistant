# 📱 移动端测试清单

## 测试前准备

### 1. 桌面浏览器模拟测试
使用Chrome DevTools设备模拟器:
- 按F12打开开发者工具
- 点击设备切换按钮 (Ctrl+Shift+M)
- 选择不同设备型号测试

### 2. 真机测试准备
- 确保手机和电脑在同一WiFi网络
- 找到电脑本地IP地址
- 在手机浏览器访问: `http://[电脑IP]:端口/index.html`

---

## 核心功能测试

### ✅ 响应式布局测试

#### 测试设备尺寸
- [ ] **375px** - iPhone SE, iPhone 12/13 mini
- [ ] **390px** - iPhone 12/13/14
- [ ] **414px** - iPhone 12/13 Pro Max
- [ ] **360px** - Android标准
- [ ] **768px** - iPad竖屏
- [ ] **1024px** - iPad横屏

#### 布局检查项
- [ ] 所有元素在屏幕内完整显示
- [ ] 无横向滚动条(除图表外)
- [ ] 文字清晰可读,无过小文本
- [ ] 图片和图标尺寸合适
- [ ] 间距合理,不拥挤

---

### ✅ AI聊天窗口测试

#### 桌面端 (>768px)
- [ ] 点击AI按钮,窗口弹出在右下角
- [ ] 窗口尺寸: 360px × 520px
- [ ] 可以拖动标题栏移动窗口
- [ ] 拖动时鼠标变为抓手
- [ ] 位置保存,刷新后恢复
- [ ] 按钮区域不触发拖动

#### 移动端 (≤768px)
- [ ] 点击AI按钮,窗口全屏显示
- [ ] 窗口占满屏幕(留小边距)
- [ ] **无法拖动**(这是预期行为)
- [ ] 标题栏鼠标显示默认光标
- [ ] 关闭后位置不保存
- [ ] 窗口固定在屏幕中央

#### 小屏手机 (≤480px)
- [ ] 窗口100%宽度,无边距
- [ ] 窗口高度适配屏幕
- [ ] 按钮和图标尺寸适中

#### 横屏模式测试
- [ ] AI窗口高度自动调整
- [ ] 内容不被截断
- [ ] 可以完整浏览聊天记录

#### 窗口大小变化测试
- [ ] 从移动端切换到桌面端,窗口变为可拖动
- [ ] 从桌面端切换到移动端,窗口变为全屏固定
- [ ] 窗口大小变化时无错误

---

### ✅ 按钮和触摸测试

#### 触摸目标尺寸
- [ ] 所有按钮至少44px × 44px
- [ ] AI聊天按钮: 56px (移动) / 50px (小屏)
- [ ] 打卡按钮足够大
- [ ] 标签切换按钮易点击

#### 触摸反馈
- [ ] 点击按钮有视觉反馈
- [ ] 无双击缩放
- [ ] 无长按选择文本(按钮上)
- [ ] 点击响应迅速

---

### ✅ 表单和输入测试

#### 输入框
- [ ] 点击输入框,光标正确定位
- [ ] 虚拟键盘弹出正常
- [ ] 输入框不被键盘遮挡
- [ ] 输入中文正常
- [ ] 表情符号显示正常

#### 滑块和选择器
- [ ] 情绪滑块可拖动
- [ ] 复选框可点击
- [ ] 选项全部可见
- [ ] 单列显示,不拥挤

---

### ✅ 图表和可视化测试

#### 情绪图表
- [ ] 图表正确渲染
- [ ] 坐标轴清晰
- [ ] 数据点可见
- [ ] 可横向滚动(如数据多)
- [ ] 触摸滚动流畅

#### 日历
- [ ] 日历格子大小合适
- [ ] 可点击日期
- [ ] 打卡标记清晰
- [ ] 今日高亮明显

---

### ✅ 滚动和导航测试

#### 页面滚动
- [ ] 页面可上下滚动
- [ ] 滚动流畅,无卡顿
- [ ] 滚动条样式正常
- [ ] 回弹效果正常(iOS)

#### 标签切换
- [ ] 标签按钮竖向排列(移动端)
- [ ] 点击切换正常
- [ ] 内容区域正确显示
- [ ] 切换动画流畅

---

### ✅ 特殊功能测试

#### 打卡功能
- [ ] 打卡圆圈大小适中
- [ ] 点击打卡有动画
- [ ] 连续天数正确显示
- [ ] 里程碑竖向排列

#### 聊天历史
- [ ] 消息正确加载
- [ ] 时间戳显示
- [ ] 消息气泡宽度适当
- [ ] 可滚动查看历史
- [ ] 清空功能正常

---

### ✅ iOS特定测试

#### Safari浏览器
- [ ] 页面正常显示
- [ ] 安全区域无遮挡(刘海屏)
- [ ] 状态栏颜色正常
- [ ] 触摸交互正常
- [ ] 无白屏或闪烁

#### 全屏模式
- [ ] 添加到主屏幕正常
- [ ] 全屏启动无地址栏
- [ ] 状态栏显示正常

#### 电话号码
- [ ] 数字不自动变为电话链接
- [ ] format-detection生效

---

### ✅ Android特定测试

#### Chrome浏览器
- [ ] 页面正常显示
- [ ] 触摸反馈正常
- [ ] 虚拟导航栏适配
- [ ] 返回键功能正常

#### 各品牌测试
- [ ] 三星浏览器
- [ ] 小米浏览器
- [ ] 华为浏览器
- [ ] Chrome

---

### ✅ 性能测试

#### 加载速度
- [ ] 首屏加载时间 < 3秒
- [ ] 图表渲染流畅
- [ ] 切换无延迟

#### 内存占用
- [ ] 长时间使用无卡顿
- [ ] 聊天记录不造成内存泄漏
- [ ] 页面不自动刷新

---

### ✅ 横竖屏切换测试

- [ ] 竖屏 → 横屏: 布局自动调整
- [ ] 横屏 → 竖屏: 布局恢复
- [ ] AI窗口高度正确
- [ ] 打卡圆圈尺寸调整
- [ ] 数据不丢失

---

### ✅ 边界情况测试

#### 极小屏幕 (320px)
- [ ] 所有元素可见
- [ ] 文字不重叠
- [ ] 按钮可点击

#### 超大屏幕 (>1200px)
- [ ] 内容居中显示
- [ ] 宽度有限制
- [ ] 不会过于分散

#### 长内容
- [ ] 长文本自动换行
- [ ] 滚动条出现
- [ ] 不超出容器

---

## 兼容性测试矩阵

| 设备/浏览器 | Safari | Chrome | Firefox | Edge |
|------------|--------|--------|---------|------|
| iPhone SE | ⬜ | ⬜ | N/A | N/A |
| iPhone 12 | ⬜ | ⬜ | N/A | N/A |
| iPhone 14 Pro | ⬜ | ⬜ | N/A | N/A |
| Android 360px | N/A | ⬜ | ⬜ | ⬜ |
| Android 414px | N/A | ⬜ | ⬜ | ⬜ |
| iPad | ⬜ | ⬜ | ⬜ | N/A |
| Android 平板 | N/A | ⬜ | ⬜ | ⬜ |

**图例**: ⬜ 待测试 | ✅ 通过 | ❌ 失败 | N/A 不适用

---

## 常见问题排查

### 问题1: AI窗口在移动端仍可拖动
**检查**:
1. 浏览器宽度是否 ≤ 768px
2. 控制台是否有错误
3. CSS媒体查询是否生效

**解决**: 刷新页面,确保JavaScript正确检测屏幕宽度

### 问题2: 虚拟键盘遮挡输入框
**检查**:
1. 输入框是否在视口下半部分
2. 页面是否可滚动

**解决**: 点击输入框时页面会自动滚动

### 问题3: 文字过小难以阅读
**检查**:
1. viewport meta标签是否正确
2. 字体大小是否应用响应式

**解决**: 确保viewport设置正确,检查CSS媒体查询

### 问题4: 横向滚动条出现
**检查**:
1. 哪个元素宽度超出
2. 是否设置了固定宽度

**解决**: 使用百分比或calc(),避免固定像素宽度

---

## 测试报告模板

```
测试日期: ____/____/________
测试人员: __________________
测试设备: __________________
浏览器版本: ________________

核心功能测试:
- AI聊天窗口: [ ] 通过 / [ ] 失败
- 响应式布局: [ ] 通过 / [ ] 失败
- 触摸交互: [ ] 通过 / [ ] 失败
- 表单输入: [ ] 通过 / [ ] 失败

发现的问题:
1. ________________________________
2. ________________________________
3. ________________________________

总体评价:
[ ] 优秀 [ ] 良好 [ ] 一般 [ ] 需改进

备注:
_____________________________________
_____________________________________
```

---

## 自动化测试建议

### 使用工具
1. **Lighthouse** - 性能和移动友好度评分
2. **BrowserStack** - 多设备真机测试
3. **Chrome DevTools** - 网络节流和设备模拟

### 关键指标
- 移动友好度得分 > 90
- 首屏加载时间 < 3s
- 触摸目标 100% 符合标准
- 无控制台错误

---

完成所有测试后,移动端优化即可上线! 🎉
